{"ast":null,"code":"var _jsxFileName = \"C:\\\\code\\\\app-librairie\\\\frontend\\\\src\\\\pages\\\\Addbook.jsx\",\n  _s = $RefreshSig$();\n// Import des modules nécessaires depuis React et react-router-dom\nimport React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport '../books.css'; // Import du fichier de style CSS\nimport axios from \"axios\"; // Import du module axios pour effectuer des requêtes HTTP\n\n// Fonction qui retourne la date et l'heure actuelles au format YYYY/MM/DD HH:MM:SS\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction getDate() {\n  const today = new Date();\n  const month = today.getMonth() + 1;\n  const year = today.getFullYear();\n  const date = today.getDate();\n  const hour = today.getHours();\n  const min = today.getMinutes();\n  const sec = today.getSeconds();\n  return `${year}/${month}/${date}  ${hour}:${min}:${sec}`;\n}\n\n// Composant principal Addbook\nfunction Addbook() {\n  _s();\n  // Utilisation du hook useState pour gérer l'état de currentDate et values\n  const [currentDate] = useState(getDate());\n  const [values, setValues] = useState({\n    titre: '',\n    auteur: '',\n    note: '',\n    date: currentDate\n  });\n  const navigate = useNavigate(); // Utilisation du hook useNavigate pour la navigation\n\n  axios.defaults.withCredentials = true;\n\n  // Fonction appelée lors de la soumission du formulaire\n  function handleSubmit(event) {\n    event.preventDefault();\n    // Utilisation d'axios pour effectuer une requête POST vers le backend\n    axios.post('http://localhost:8800/addbook', values).then(res => {\n      // Si la requête est réussie, naviguer vers la page d'accueil\n      if (res.data.Status === \"Success\") {\n        navigate('/Homepage');\n      } else {\n        // Afficher une alerte en cas d'erreur\n        alert(res.data.Error);\n      }\n    }).catch(err => console.log(err));\n  }\n\n  // Rendu du composant\n  return /*#__PURE__*/_jsxDEV(\"body\", {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      id: \"form\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"add_book\",\n        children: \"Ajouter un livre\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"group1\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"Titre\",\n          placeholder: \"Titre\",\n          id: \"input\",\n          onChange: e => setValues({\n            ...values,\n            titre: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"group1\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"Auteur\",\n          placeholder: \"Auteur\",\n          id: \"input\",\n          onChange: e => setValues({\n            ...values,\n            auteur: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"group1\",\n        children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n          cal: \"Note\",\n          placeholder: \"Note\",\n          id: \"input\",\n          onChange: e => setValues({\n            ...values,\n            note: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"group1\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"Date\",\n          id: \"input\",\n          value: currentDate,\n          readOnly: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"group\",\n        id: \"add\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"add_button\",\n          children: \"Ajouter\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 9\n  }, this);\n}\n_s(Addbook, \"Dyo4QSYmcjRUYKVh/t/w2S5ai80=\", false, function () {\n  return [useNavigate];\n});\n_c = Addbook;\nexport default Addbook; // Export du composant Addbook\nvar _c;\n$RefreshReg$(_c, \"Addbook\");","map":{"version":3,"names":["React","useState","useNavigate","axios","jsxDEV","_jsxDEV","getDate","today","Date","month","getMonth","year","getFullYear","date","hour","getHours","min","getMinutes","sec","getSeconds","Addbook","_s","currentDate","values","setValues","titre","auteur","note","navigate","defaults","withCredentials","handleSubmit","event","preventDefault","post","then","res","data","Status","alert","Error","catch","err","console","log","children","onSubmit","id","className","fileName","_jsxFileName","lineNumber","columnNumber","name","placeholder","onChange","e","target","value","cal","type","readOnly","_c","$RefreshReg$"],"sources":["C:/code/app-librairie/frontend/src/pages/Addbook.jsx"],"sourcesContent":["// Import des modules nécessaires depuis React et react-router-dom\r\nimport React, { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport '../books.css'; // Import du fichier de style CSS\r\nimport axios from \"axios\"; // Import du module axios pour effectuer des requêtes HTTP\r\n\r\n// Fonction qui retourne la date et l'heure actuelles au format YYYY/MM/DD HH:MM:SS\r\nfunction getDate() {\r\n    const today = new Date();\r\n    const month = today.getMonth() + 1;\r\n    const year = today.getFullYear();\r\n    const date = today.getDate();\r\n    const hour = today.getHours();\r\n    const min = today.getMinutes();\r\n    const sec = today.getSeconds()\r\n    return `${year}/${month}/${date}  ${hour}:${min}:${sec}`;\r\n}\r\n\r\n// Composant principal Addbook\r\nfunction Addbook() {\r\n    // Utilisation du hook useState pour gérer l'état de currentDate et values\r\n    const [currentDate] = useState(getDate());\r\n\r\n    const [values, setValues] = useState({\r\n        titre: '',\r\n        auteur: '',\r\n        note: '',\r\n        date: currentDate\r\n    });\r\n\r\n    const navigate = useNavigate(); // Utilisation du hook useNavigate pour la navigation\r\n\r\n    axios.defaults.withCredentials = true;\r\n\r\n    // Fonction appelée lors de la soumission du formulaire\r\n    function handleSubmit(event) {\r\n        event.preventDefault();\r\n        // Utilisation d'axios pour effectuer une requête POST vers le backend\r\n        axios.post('http://localhost:8800/addbook', values)\r\n            .then(res => {\r\n                // Si la requête est réussie, naviguer vers la page d'accueil\r\n                if (res.data.Status === \"Success\") {\r\n                    navigate('/Homepage');\r\n                } else {\r\n                    // Afficher une alerte en cas d'erreur\r\n                    alert(res.data.Error);\r\n                }\r\n            })\r\n            .catch(err => console.log(err));\r\n    }\r\n\r\n    // Rendu du composant\r\n    return (\r\n        <body>\r\n            {/* Formulaire d'ajout de livre */}\r\n            <form onSubmit={handleSubmit} id=\"form\">\r\n                <div className=\"add_book\">Ajouter un livre</div>\r\n                {/* Champs pour saisir le titre du livre */}\r\n                <div className=\"group1\">\r\n                    <input\r\n                        name=\"Titre\"\r\n                        placeholder=\"Titre\"\r\n                        id=\"input\"\r\n                        onChange={e => setValues({ ...values, titre: e.target.value })}\r\n                    />\r\n                </div>\r\n                {/* Champs pour saisir l'auteur du livre */}\r\n                <div className=\"group1\">\r\n                    <input\r\n                        name=\"Auteur\"\r\n                        placeholder=\"Auteur\"\r\n                        id=\"input\"\r\n                        onChange={e => setValues({ ...values, auteur: e.target.value })}\r\n                    />\r\n                </div>\r\n                {/* Zone de texte pour saisir la note du livre */}\r\n                <div className=\"group1\">\r\n                    <textarea\r\n                        cal=\"Note\"\r\n                        placeholder=\"Note\"\r\n                        id=\"input\"\r\n                        onChange={e => setValues({ ...values, note: e.target.value })}\r\n                    />\r\n                </div>\r\n                {/* Champ en lecture seule pour afficher la date actuelle */}\r\n                <div className=\"group1\">\r\n                    <input\r\n                        type=\"text\"\r\n                        name=\"Date\"\r\n                        id=\"input\"\r\n                        value={currentDate}\r\n                        readOnly\r\n                    />\r\n                </div>\r\n                {/* Bouton pour soumettre le formulaire */}\r\n                <div className=\"group\" id=\"add\">\r\n                    <button className=\"add_button\">Ajouter</button>\r\n                </div>\r\n            </form>\r\n        </body>\r\n    );\r\n}\r\n\r\nexport default Addbook; // Export du composant Addbook\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}